
@keyframes spinCarouselLayerLoading
	50%
		transform: rotateY( 90deg )

.carousel-layer
	display: grid
	grid-template-rows: 1fr auto
	grid-template-columns: auto 1fr auto
	position: relative
	gap: 1rem 0px
	dialog
		position: absolute
		flex-direction: column
		gap: 1rem
		&[open]
			display: flex
		img
			grid-area: 1/1/2/3
			min-height: inherit
			background: var( --disabled-color )
			padding: 0px !important
			max-width: 100%
		& > div
			display: flex
			justify-content: space-between
		button
			height: 2rem
		label:before
			content: '\26F5'
			grid-area: 1/1/2/3
			place-self: center
			font-size: 3rem
		label.preload:before
			place-self: end
			font-size: 1rem
			transition: margin-right .3s
	& > span
		width: 2rem
		height: 2rem
		font-size: 1rem
		transition: opacity .3s
		background: var( --canvas-color, Canvas )
		color: var(--extra-color, ButtonFace)
		box-shadow: 0 0 .4rem .05rem var(--extra-color, ButtonFace)
		border-radius: .3rem
		display: inline-flex
		align-items: center
		justify-content: center
		cursor: pointer
		align-self: center
		grid-area: 1/2/2/3
		position: absolute
		margin: 0px .5rem
		z-index: 1
		&:not(.active)
			display: none
		&:hover
			opacity: .75 !important
		&:before
			content: '\2770'
		& ~ span
			right: 0px
			&:before
				content: '\2771'
	ul
		list-style: none
		padding: 0px
		margin: 0px
		display: flex
		grid-area: 1/2/2/3
		place-self: stretch
		overflow: hidden
		&.loading
			font-size: 3rem
			width: 3rem
			height: 3rem
			&:before
				content: '\2744'
				opacity: .1
				animation: spinCarouselLayerLoading 3s linear infinite
		& + ul
			grid-area: 2/2/3/3
			display: flex
			align-items: center
			justify-content: center
			gap: 1ex
			li
				width: 1ex
				height: 1ex
				min-width: 1ex
				border-radius: 1ex
				opacity: .3
				background: var(--extra-color, ButtonFace)
				cursor: pointer
				transition: opacity .3s
				&.active
					opacity: .5
				&:not(.active):hover
					opacity: .75
		.create
			display: flex
			place-self: stretch
			align-items: center
			justify-content: center
			cursor: pointer
			opacity: .75
			color: var(--extra-color, ButtonFace)
			transition: opacity .3s
			&:hover
				opacity: .9
			&:empty:before
				content: '\2BB6'
				font-size: 2rem
				line-height: 1.5rem
		li
			position: relative
			align-self: stretch
			width: 100%
			display: grid
			grid-template-rows: 1fr
			grid-template-columns: 1fr
			min-width: 100%
			background-repeat: no-repeat
			background-position: center
			background-size: auto 100%
			& > *
				grid-area: 1/1/2/3
				align-self: stretch
			& > input[type="file"]
				opacity: 0
				place-self: stretch
				cursor: pointer
				place-self: center
			& > del
				position: absolute
				top: .5rem
				right: .5rem
				transition: opacity .3s
				width: 2rem
				height: 2rem
				background: var( --canvas-color, Canvas )
				color: var(--extra-color, ButtonFace)
				box-shadow: 0 0 .4rem .05rem var(--extra-color, ButtonFace)
				border-radius: .3rem
				z-index: 1
				&:hover
					opacity: .75

				&:before
					content: '\274C'
	& > span, li > del
		opacity: 0
	&:hover
		& > span, li > del
			opacity: .3